{"ast":null,"code":"// API service for BriDGe backend\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001';\nclass ApiService {\n  // Helper method for making API requests\n  static async request(endpoint, options = {}) {\n    const url = `${API_BASE_URL}${endpoint}`;\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        ...options.headers\n      },\n      ...options\n    };\n    try {\n      const response = await fetch(url, config);\n\n      // Check if response is HTML (error page) instead of JSON\n      const contentType = response.headers.get('content-type');\n      if (contentType && contentType.includes('text/html')) {\n        throw new Error(`Server returned HTML instead of JSON. Check if API server is running on ${API_BASE_URL}`);\n      }\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.error || `HTTP error! status: ${response.status}`);\n      }\n      return data;\n    } catch (error) {\n      console.error(`API request failed: ${endpoint}`, error);\n\n      // Provide more helpful error messages\n      if (error.message.includes('Failed to fetch') || error.message.includes('ECONNREFUSED')) {\n        throw new Error('Cannot connect to API server. Please make sure the backend is running on http://localhost:3001');\n      }\n      throw error;\n    }\n  }\n\n  // User Authentication\n  static async login(email, password) {\n    return this.request('/api/users/login', {\n      method: 'POST',\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n  }\n  static async register(userData) {\n    return this.request('/api/users/register', {\n      method: 'POST',\n      body: JSON.stringify(userData)\n    });\n  }\n  static async getUserProfile(userId) {\n    return this.request(`/api/users/${userId}/profile`);\n  }\n\n  // Opportunities\n  static async getOpportunities(filters = {}) {\n    const queryParams = new URLSearchParams();\n    Object.entries(filters).forEach(([key, value]) => {\n      if (value !== null && value !== undefined && value !== '') {\n        queryParams.append(key, value);\n      }\n    });\n    const queryString = queryParams.toString();\n    const endpoint = `/api/opportunities${queryString ? `?${queryString}` : ''}`;\n    return this.request(endpoint);\n  }\n  static async getOpportunity(id) {\n    return this.request(`/api/opportunities/${id}`);\n  }\n  static async createOpportunity(opportunityData) {\n    return this.request('/api/opportunities', {\n      method: 'POST',\n      body: JSON.stringify(opportunityData)\n    });\n  }\n\n  // Applications\n  static async submitApplication(applicationData) {\n    return this.request('/api/applications', {\n      method: 'POST',\n      body: JSON.stringify(applicationData)\n    });\n  }\n  static async getStudentApplications(studentId, filters = {}) {\n    const queryParams = new URLSearchParams();\n    Object.entries(filters).forEach(([key, value]) => {\n      if (value !== null && value !== undefined && value !== '') {\n        queryParams.append(key, value);\n      }\n    });\n    const queryString = queryParams.toString();\n    const endpoint = `/api/applications/student/${studentId}${queryString ? `?${queryString}` : ''}`;\n    return this.request(endpoint);\n  }\n  static async getOpportunityApplications(opportunityId, filters = {}) {\n    const queryParams = new URLSearchParams();\n    Object.entries(filters).forEach(([key, value]) => {\n      if (value !== null && value !== undefined && value !== '') {\n        queryParams.append(key, value);\n      }\n    });\n    const queryString = queryParams.toString();\n    const endpoint = `/api/applications/opportunity/${opportunityId}${queryString ? `?${queryString}` : ''}`;\n    return this.request(endpoint);\n  }\n\n  // Statistics\n  static async getUserStats() {\n    return this.request('/api/stats/users');\n  }\n  static async getOpportunityStats(employerId = null) {\n    const endpoint = employerId ? `/api/stats/opportunities?employer_id=${employerId}` : '/api/stats/opportunities';\n    return this.request(endpoint);\n  }\n\n  // Health check\n  static async healthCheck() {\n    return this.request('/health');\n  }\n}\nexport default ApiService;","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","ApiService","request","endpoint","options","url","config","headers","response","fetch","contentType","get","includes","Error","data","json","ok","error","status","console","message","login","email","password","method","body","JSON","stringify","register","userData","getUserProfile","userId","getOpportunities","filters","queryParams","URLSearchParams","Object","entries","forEach","key","value","undefined","append","queryString","toString","getOpportunity","id","createOpportunity","opportunityData","submitApplication","applicationData","getStudentApplications","studentId","getOpportunityApplications","opportunityId","getUserStats","getOpportunityStats","employerId","healthCheck"],"sources":["C:/Last_hope/Last_hope/bridge/src/services/api.js"],"sourcesContent":["// API service for BriDGe backend\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001';\r\n\r\nclass ApiService {\r\n  // Helper method for making API requests\r\n  static async request(endpoint, options = {}) {\r\n    const url = `${API_BASE_URL}${endpoint}`;\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...options.headers,\r\n      },\r\n      ...options,\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(url, config);\r\n      \r\n      // Check if response is HTML (error page) instead of JSON\r\n      const contentType = response.headers.get('content-type');\r\n      if (contentType && contentType.includes('text/html')) {\r\n        throw new Error(`Server returned HTML instead of JSON. Check if API server is running on ${API_BASE_URL}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || `HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      return data;\r\n    } catch (error) {\r\n      console.error(`API request failed: ${endpoint}`, error);\r\n      \r\n      // Provide more helpful error messages\r\n      if (error.message.includes('Failed to fetch') || error.message.includes('ECONNREFUSED')) {\r\n        throw new Error('Cannot connect to API server. Please make sure the backend is running on http://localhost:3001');\r\n      }\r\n      \r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // User Authentication\r\n  static async login(email, password) {\r\n    return this.request('/api/users/login', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ email, password }),\r\n    });\r\n  }\r\n\r\n  static async register(userData) {\r\n    return this.request('/api/users/register', {\r\n      method: 'POST',\r\n      body: JSON.stringify(userData),\r\n    });\r\n  }\r\n\r\n  static async getUserProfile(userId) {\r\n    return this.request(`/api/users/${userId}/profile`);\r\n  }\r\n\r\n  // Opportunities\r\n  static async getOpportunities(filters = {}) {\r\n    const queryParams = new URLSearchParams();\r\n    \r\n    Object.entries(filters).forEach(([key, value]) => {\r\n      if (value !== null && value !== undefined && value !== '') {\r\n        queryParams.append(key, value);\r\n      }\r\n    });\r\n\r\n    const queryString = queryParams.toString();\r\n    const endpoint = `/api/opportunities${queryString ? `?${queryString}` : ''}`;\r\n    \r\n    return this.request(endpoint);\r\n  }\r\n\r\n  static async getOpportunity(id) {\r\n    return this.request(`/api/opportunities/${id}`);\r\n  }\r\n\r\n  static async createOpportunity(opportunityData) {\r\n    return this.request('/api/opportunities', {\r\n      method: 'POST',\r\n      body: JSON.stringify(opportunityData),\r\n    });\r\n  }\r\n\r\n  // Applications\r\n  static async submitApplication(applicationData) {\r\n    return this.request('/api/applications', {\r\n      method: 'POST',\r\n      body: JSON.stringify(applicationData),\r\n    });\r\n  }\r\n\r\n  static async getStudentApplications(studentId, filters = {}) {\r\n    const queryParams = new URLSearchParams();\r\n    \r\n    Object.entries(filters).forEach(([key, value]) => {\r\n      if (value !== null && value !== undefined && value !== '') {\r\n        queryParams.append(key, value);\r\n      }\r\n    });\r\n\r\n    const queryString = queryParams.toString();\r\n    const endpoint = `/api/applications/student/${studentId}${queryString ? `?${queryString}` : ''}`;\r\n    \r\n    return this.request(endpoint);\r\n  }\r\n\r\n  static async getOpportunityApplications(opportunityId, filters = {}) {\r\n    const queryParams = new URLSearchParams();\r\n    \r\n    Object.entries(filters).forEach(([key, value]) => {\r\n      if (value !== null && value !== undefined && value !== '') {\r\n        queryParams.append(key, value);\r\n      }\r\n    });\r\n\r\n    const queryString = queryParams.toString();\r\n    const endpoint = `/api/applications/opportunity/${opportunityId}${queryString ? `?${queryString}` : ''}`;\r\n    \r\n    return this.request(endpoint);\r\n  }\r\n\r\n  // Statistics\r\n  static async getUserStats() {\r\n    return this.request('/api/stats/users');\r\n  }\r\n\r\n  static async getOpportunityStats(employerId = null) {\r\n    const endpoint = employerId \r\n      ? `/api/stats/opportunities?employer_id=${employerId}`\r\n      : '/api/stats/opportunities';\r\n    \r\n    return this.request(endpoint);\r\n  }\r\n\r\n  // Health check\r\n  static async healthCheck() {\r\n    return this.request('/health');\r\n  }\r\n}\r\n\r\nexport default ApiService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}